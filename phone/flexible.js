"use strict";!function(e,t){function i(e){var t={},i=document.cookie.split(";");for(var r in i){var a=i[r].replace(/^\s*/,"");if(a){var n=a.split("=");t[n[0]]=n[1]||""}}return t[e]}function r(){var t=o.getBoundingClientRect().width;t/s>540&&(t=540*s);var i=t/10;o.style.fontSize=i+"px",c.rem=e.rem=i}var a,n=e.document,o=n.documentElement,l=n.querySelector('meta[name="viewport"]'),m=n.querySelector('meta[name="flexible"]'),s=0,d=0,c=t.flexible||(t.flexible={});if(l){console.warn("将根据已有的meta标签来设置缩放比例");var p=l.getAttribute("content").match(/initial\-scale=([\d\.]+)/);p&&(d=parseFloat(p[1]),s=parseInt(1/d))}else if(m){var u=m.getAttribute("content");if(u){var v=u.match(/initial\-dpr=([\d\.]+)/),f=u.match(/maximum\-dpr=([\d\.]+)/);v&&(s=parseFloat(v[1]),d=parseFloat((1/s).toFixed(2))),f&&(s=parseFloat(f[1]),d=parseFloat((1/s).toFixed(2)))}}if(!s&&!d){var h=(e.navigator.appVersion.match(/android/gi),e.navigator.appVersion.match(/iphone/gi)),w=e.devicePixelRatio;s=h?w>=3&&(!s||s>=3)?3:w>=2&&(!s||s>=2)?2:1:1,d=1/s}if(o.setAttribute("data-dpr",s),!l){l=n.createElement("meta"),l.setAttribute("name","viewport");var x="initial-scale="+d+", maximum-scale="+d+", minimum-scale="+d+", user-scalable=no",g=i("weizhi_appName");if(g&&(x="width=device-width,"+x),l.setAttribute("content",x),o.firstElementChild)o.firstElementChild.appendChild(l);else{var b=n.createElement("div");b.appendChild(l),n.write(b.innerHTML)}}var E=function(){clearTimeout(a),a=setTimeout(r,300),console.log("resize"),e.removeEventListener("resize",E)};e.addEventListener("resize",E,!1),e.addEventListener("pageshow",function(e){r()},!1),"complete"===n.readyState||n.addEventListener("DOMContentLoaded",function(e){},!1),r(),c.dpr=e.dpr=s,c.refreshRem=r,c.rem2px=function(e){var t=parseFloat(e)*this.rem;return"string"==typeof e&&e.match(/rem$/)&&(t+="px"),t},c.px2rem=function(e){var t=parseFloat(e)/this.rem;return"string"==typeof e&&e.match(/px$/)&&(t+="rem"),t}}(window,window.lib||(window.lib={}));
